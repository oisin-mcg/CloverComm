<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PasswordManager - CloverComm</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"/>
</head>
<body id="messengerBody">
    <header>
        <h1>CloverComm</h1>
        <h3>Password Manager</h3>
    </header>

    <nav>
        <ul>
            <li><a href="{{ url_for('home') }}">Home</a></li>
            <li><a href="{{ url_for('voice_view') }}">Voice Chat</a></li>
        </ul>
    </nav>

    <section>
        <h2>Messenger</h2>
        <p>Enter your password to be hashed here...</p>
        <div id="messengerContent">
            <!--form for hashing passwords -->
            <form action="{{ url_for('messenger_view') }}" method="post">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required>
                
                <button type="submit" name="submit_password">Hash Password</button>
            </form>

            <!--display flash message -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <ul>
                        {% for category, message in messages %}
                            <li class="{{ category }}">{{ message }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}

           
            <form action="{{ url_for('messenger_view') }}" method="post">
              
            </form>
            <!--button to clear all passwords -->
            <form action="{{ url_for('messenger_view') }}" method="post">
                <button type="submit" name="clear_passwords" onclick="return confirm('Are you sure you want to clear all passwords?')">Clear All Passwords</button>
            </form>
            <!-- Form to verify a password -->
            <form action="{{ url_for('messenger_view') }}" method="post">
                <label for="verify_input_password">Enter password to verify:</label>
                <input type="password" id="verify_input_password" name="verify_input_password" required>
                <button type="submit" name="verify_password">Verify Password</button>
            </form>



            <!--list of stored hashed passwords -->
            {% if hashed_passwords %}
                <h3>Stored & Verified Passwords:</h3>
                <ul>
                    {% for pwd in hashed_passwords %}
                        <li>{{ pwd }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        
    </section>

    <footer>
        <p>&copy; 2024 CloverComm. All rights reserved.</p>
    </footer>

    <script src="messenger.js"></script>
</body>
</html>